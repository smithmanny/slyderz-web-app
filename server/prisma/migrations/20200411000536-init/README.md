# Migration `20200411000536-init`

This migration has been generated by Shakhor at 4/11/2020, 12:05:36 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "Role" AS ENUM ('ADMIN', 'CHEF', 'USER');

CREATE TABLE "public"."User" (
    "address1" text   ,
    "address2" text   ,
    "avatarUrl" text   ,
    "city" text   ,
    "email" text  NOT NULL DEFAULT '',
    "firstName" text  NOT NULL DEFAULT '',
    "id" SERIAL,
    "lastName" text  NOT NULL DEFAULT '',
    "password" text  NOT NULL DEFAULT '',
    "postalCode" integer   ,
    "resetToken" text   ,
    "resetTokenExpiry" Decimal(65,30)   ,
    "role" "Role" NOT NULL DEFAULT 'USER',
    "state" text   ,
    "tokenCount" integer  NOT NULL DEFAULT 0,
    PRIMARY KEY ("id")
) 

CREATE UNIQUE INDEX "User.email" ON "public"."User"("email")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200411000536-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,32 @@
+generator client {
+  provider = "prisma-client-js"
+}
+
+datasource db {
+  provider = "postgresql"
+  url      = env("POSTGRESQL_URL")
+}
+
+enum Role {
+  ADMIN
+  CHEF
+  USER
+}
+
+model User {
+  address1         String?
+  address2         String?
+  avatarUrl        String?
+  city             String?
+  email            String  @default("") @unique
+  firstName        String  @default("")
+  id               Int     @default(autoincrement()) @id
+  lastName         String  @default("")
+  password         String  @default("")
+  postalCode       Int?
+  resetToken       String?
+  resetTokenExpiry Float?
+  role             Role    @default(USER)
+  state            String?
+  tokenCount       Int     @default(0)
+}
```


