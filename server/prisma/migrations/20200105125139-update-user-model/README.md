# Migration `20200105125139-update-user-model`

This migration has been generated by Shakhor Smith at 1/5/2020, 12:51:39 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."User" DROP COLUMN "name",
ADD COLUMN "address1" text    ,
ADD COLUMN "address2" text    ,
ADD COLUMN "city" text    ,
ADD COLUMN "firstName" text  NOT NULL DEFAULT '' ,
ADD COLUMN "lastName" text  NOT NULL DEFAULT '' ,
ADD COLUMN "postalCode" integer    ,
ADD COLUMN "resetToken" text    ,
ADD COLUMN "resetTokenExpiry" Decimal(65,30)    ,
ADD COLUMN "roles" text  NOT NULL DEFAULT 'USER' ,
ADD COLUMN "state" text    ;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200103203004-first..20200105125139-update-user-model
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("POSTGRESQL_URL")
 }
 model Post {
   id        String   @default(cuid()) @id
@@ -20,7 +20,20 @@
 model User {
   id       String  @default(cuid()) @id
   email    String  @unique
   password String
-  name     String?
-  posts    Post[]
+  firstName     String
+  lastName     String
+  roles    Roles @default(USER)
+  address1 String?
+  address2 String?
+  city  String?
+  state String?
+  postalCode Int?
+  resetToken String?
+  resetTokenExpiry  Float?
+}
+
+enum Roles {
+  USER
+  ADMIN
 }
```


