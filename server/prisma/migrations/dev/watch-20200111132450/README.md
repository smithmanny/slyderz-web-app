# Migration `watch-20200111132450`

This migration has been generated by Shakhor Smith at 1/11/2020, 1:25:13 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Post" DROP COLUMN "content",
ADD COLUMN "content" text    ,
DROP COLUMN "createdAt",
ADD COLUMN "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00' ,
DROP COLUMN "updatedAt",
ADD COLUMN "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00' ;

ALTER TABLE "public"."User" DROP COLUMN "roles",
ADD COLUMN "role" text  NOT NULL DEFAULT 'USER' ,
DROP COLUMN "address1",
ADD COLUMN "address1" text    ,
DROP COLUMN "address2",
ADD COLUMN "address2" text    ,
DROP COLUMN "city",
ADD COLUMN "city" text    ,
DROP COLUMN "postalCode",
ADD COLUMN "postalCode" integer    ,
DROP COLUMN "resetToken",
ADD COLUMN "resetToken" text    ,
DROP COLUMN "resetTokenExpiry",
ADD COLUMN "resetTokenExpiry" Decimal(65,30)    ,
DROP COLUMN "state",
ADD COLUMN "state" text    ;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..watch-20200111132450
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,39 @@
+generator photon {
+  provider = "photonjs"
+}
+
+datasource db {
+  provider = "postgresql"
+  url      = env("POSTGRESQL_URL")
+}
+
+model Post {
+  id        String   @default(cuid()) @id
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+  published Boolean  @default(false)
+  title     String
+  content   String?
+  author    User?
+}
+
+model User {
+  id       String  @default(cuid()) @id
+  email    String  @unique
+  password String
+  firstName     String
+  lastName     String
+  role    Role @default(USER)
+  address1 String?
+  address2 String?
+  city  String?
+  state String?
+  postalCode Int?
+  resetToken String?
+  resetTokenExpiry  Float?
+}
+
+enum Role {
+  USER
+  ADMIN
+}
```


